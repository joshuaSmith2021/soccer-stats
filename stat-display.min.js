var playerData=[],gamesPlayed=0,playerCount=0,totalGoals=0,totalAssists=0,totalPoints=0;function findTotals(){totalGoals=function(){let a=0;for(let b=0;b<playerData.length;b++)a+=playerData[b].goals;return a}(),totalAssists=function(){let a=0;for(let b=0;b<playerData.length;b++)a+=playerData[b].assists;return a}(),totalPoints=function(){let a=0;for(let b=0;b<playerData.length;b++)a+=playerData[b].points;return a}()}function getLeaders(){var a=0,b=0;for(let c=0;c<playerData.length;c++)playerData[c].goals>=a&&(a=playerData[c].goals),playerData[c].assists>=b&&(b=playerData[c].assists);for(let c=0;c<playerData.length;c++)playerData[c].goals===a&&(playerData[c].mostGoals=!0),playerData[c].assists===b&&(playerData[c].mostAssists=!0)}function buildPage(){const a=document.getElementById('statsContainer');for(let c=0;c<playerData.length;c++)0==c%3&&(a.innerHTML+='<div class="w3-row">'),a.innerHTML+='<div class="w3-col l4 m12"><h4 class="w3-center">'+playerData[c].playerName+function(){return playerData[c].mostGoals&&playerData[c].mostAssists?' <i class="fa fa-trophy w3-text-yellow hover-container"><ul><li>Top Scorer ('+playerData[c].goals+')</li><li>Most Assists ('+playerData[c].assists+')</li></ul></i>':playerData[c].mostGoals?' <i class="fa fa-trophy w3-text-yellow hover-container"><ul><li>Top Scorer ('+playerData[c].goals+')</li></ul></i>':playerData[c].mostAssists?' <i class="fa fa-trophy w3-text-yellow hover-container"><ul><li>Most Assists ('+playerData[c].assists+')</li></ul></i>':''}()+'</h4><canvas class="playerDisplay"></canvas></div>',0==(c+1)%3&&(a.innerHTML+='</div>');const b=document.getElementsByClassName('playerDisplay');for(let c=0;c<playerData.length;c++)let d=b[c].getContext('2d'),e=new Chart(d,{type:'radar',data:{labels:['Goals','Assists','Points','Goals per Game','Assists per Game','Points per Game'],datasets:[{label:playerData[c].playerName,backgroundColor:'rgba(224, 23, 23, 0.2)',borderColor:'rgb(224, 23, 23)',data:function(){let f=[playerData[c].goals,playerData[c].assists,playerData[c].points,playerData[c].goals/gamesPlayed,playerData[c].assists/gamesPlayed,playerData[c].points/gamesPlayed];return f}()},{label:'Average Player',backgroundColor:'rgb(23, 43, 208, 0.2)',borderColor:'rgb(23, 43, 208)',data:function(){let f=[totalGoals/playerCount,totalAssists/playerCount,totalPoints/playerCount,totalGoals/playerCount/gamesPlayed,totalAssists/playerCount/gamesPlayed,totalPoints/playerCount/gamesPlayed];return f}()}]}})}const http=new XMLHttpRequest;http.onreadystatechange=function(){if(4===this.readyState&&200===this.status){const a=JSON.parse(this.responseText);playerData=a.player_data,gamesPlayed=a.games_played,playerCount=a.player_count,findTotals(),getLeaders(),buildPage()}},http.open('GET','player_stats.json'),http.send();
